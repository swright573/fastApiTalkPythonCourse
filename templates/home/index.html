{% extends "shared/layout.html" %}

{% block content %}

    <img src="/static/img/cloud.png" style="float: left; max-width: 48px; margin-right: 20px;" alt="">

    <h1><span class="font-semi-bold">Weather Service</span> <span class="smaller">A RESTful weather service</span>
    </h1>

    <div style="clear:both;"></div>
    <br>
    <br>
    <p class="lead">
        The <a href="https://training.talkpython.fm/">Talk Python</a> weather service.<br>
        <br>
        <strong>Endpoints</strong>
    <ul>
        <li>
            <strong>Current weather in a location</strong><br>
            <a href="/api/weather/43.8384/-79.0868"
               target="_blank"
            ><strong>GET /api/weather/{latitude}/{longitude}</strong></a><br>
            <br>
            <div style="font-size: 12px;">
                <strong>Parameters</strong>
                <ul>
                    <li>Optional: <code>units={units}</code> - units: {metric, imperial, standard}, defaults to metric.
                    </li>
                </ul>

                <strong>Response JSON</strong>
                <ul>
                    <li>Click <a href="/api/weather/43.8384/-79.0868&units=metric"
                                 target="_blank"
                    >the link above</a> to see example output.
                    </li>
                </ul>
            </div>
        </li>
    </ul>
    </p>
    <div>
        <h2>Recent weather events</h2>
        <ul>
            {% for e in events %}
            <li> {{ e.location.lat, e.location.lon }}: {{  e.description }}</li>
            {% endfor %}
        </ul>
    </div>

{% endblock %}